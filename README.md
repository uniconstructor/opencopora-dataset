# Модель для разбиения текста на преложения

Используется для того чтобы автоматизировать процесс разбиения на предложения в процессе добавления нового текста в проекте opencorpora.

Обучающая выборка текстов opencorpora.org для разбиения текста на предложения.

Дамп базы данных, на основе которого создана выборка: http://opencorpora.org/?page=downloads


## Структура папок

Каждая папка в датасете соответствует одной записи в таблице books. Имя - поле book_id.

Каждая папка хранит данные одного документа:
* <book_id>-sentences.csv - список всех предложений документа (разбиение составлено вручную)
* <book_id>-sentences-auto.csv - список всех предложений документа (разбиение составленное автоматически, для baseline)
* <book_id>-sentences-trained.csv - список предложений документа (разбиение составленное автоматически, но уже моделью обученной на текстах корпуса)
* <book_id>-text.txt - текст документа, составленный из предложений
* <book_id>-original.html - сохраненная копия веб-страницы из которой был извлечен текст (если есть)
* <book_id>-annotations.xml - полная разметка документа в формате opencopora. Описание формата можно посмотреть здесь: http://opencorpora.org/?page=export

### Структура csv-файла со списком предложений документа

* sent_id - уникальный id предложения в базе opencopora
* par_id - уникальный id абзаца текста в базе opencopora
* source - текст предложения
* book_id - id документа в котором находится предложение
* par_pos - порядковый номер абзаца текста, в котором находится это предложение. Абзацы нумеруются с 1, заголовок текста считается первым абзацем
* sent_pos - порядковый номер предложения внутри абзаца текста. Предложения нумеруются с 1.

## Предобученная модель

Для разбиения текста на предложения используется библиотека NLTK-токенизатор, обученный на текстах корпуса.

В корне проекта находится список файлов для демонстрации работы:
* sentence-tokenizer-demo.ipynb - пример использования токенизатора
* sentence-tokenizer-model.pickle - предобученная модель для разбиения текста на предложения
* sentence-tokenizer-demo.txt - пример текста для демонстрации разбиения

## Обучающая выборка для токенизатора

Также в файле train.txt содержится обучающая выборка, использованная для создания токенизатора: она предстваляет собой текстовый файл в котором собраны все предложения из базы opencopora (каждое предложение с новой строки)

Код для подготовки данных и обучения модели находится в dataset.ipynb. 
